(function(t){function e(e){for(var r,o,s=e[0],c=e[1],u=e[2],h=0,f=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/3d-avatar-vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},5416:function(t,e,n){"use strict";n("c500")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=n("cf05"),i=n.n(a),o=Object(r["d"])("img",{alt:"Vue logo",src:i.a},null,-1);function s(t,e,n,a,i,s){var c=Object(r["i"])("AvatarRpm");return Object(r["f"])(),Object(r["c"])(r["a"],null,[Object(r["e"])(c,{url:"./avatar.glb"},null,8,["url"]),o],64)}var c={style:{width:"144px",height:"224px"},id:"avatar-rpm",class:"avatar-rpm",ref:"avatarContainer"};function u(t,e,n,a,i,o){return Object(r["f"])(),Object(r["c"])("div",c,null,512)}var l=n("5a89"),h=n("34ad"),f=n("4721"),d=function(t,e,n){return Math.min(Math.max(t,e),n)},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05;return t*(1-n)+e*n},v=function(t,e,n,r,a){return t=d(t,e,n),(t-e)*(a-r)/(n-e)+r},m={name:"AvatarRpm",props:{url:{type:String,default:"./avatar.glb"}},data:function(){return{camera:null,scene:null,renderer:null,clock:null,rightArm:null,leftArm:null,neck:null,canvaContainer:null,currentPos:null,targetPos:null}},methods:{init:function(){this.currentPos=new l["ob"](0,0),this.targetPos=new l["ob"](0,0),this.canvaContainer=document.getElementById("avatar-rpm"),this.camera=new l["T"](45,this.canvaContainer.offsetWidth/this.canvaContainer.offsetHeight,.01,10),this.camera.position.set(-.33,1.5,2.9),this.clock=new l["g"],this.scene=new l["cb"],this.scene.background=new l["h"](302836);var t=new l["o"](12303359,4473890);t.position.set(0,1,0),this.scene.add(t);var e=new h["a"],n=this;e.load(this.url,(function(t){var e=t.scene;e.scale.set(3,3,3),e.position.y=-3.5,n.rightArm=e.getObjectByName("RightArm"),n.leftArm=e.getObjectByName("LeftArm"),n.neck=e.getObjectByName("Neck"),n.scene.add(e)}),(function(t){console.log(t.loaded/t.total*100+"% loaded")}),(function(){console.log("An error happened")})),this.renderer=new l["rb"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.canvaContainer.offsetWidth,this.canvaContainer.offsetHeight),this.renderer.outputEncoding=l["sb"],this.$refs.avatarContainer.appendChild(this.renderer.domElement);var r=new f["a"](this.camera,this.renderer.domElement);r.target.set(0,1,0),r.update(),this.canvaContainer.addEventListener("mousemove",this.rotateAvatar)},animate:function(){requestAnimationFrame(this.animate);var t=this.clock.getElapsedTime();this.rightArm&&(this.rightArm.rotation.z+=.005*Math.sin(t),this.leftArm.rotation.z+=.005*Math.sin(t+.05)),this.renderer.render(Object(r["j"])(this.scene),this.camera)},rotateAvatar:function(t){var e=Math.abs(this.camera.rotation.z),n=Math.PI/180,r=t.target.getBoundingClientRect(),a=t.clientX-r.left,i=t.clientY-r.top;e<.2?(this.targetPos.x=v(i,-1,1,5*n,-5*n),this.targetPos.y=v(a,-1,1,-10*n,10*n)):this.targetPos.set(0,0),this.currentPos.x=p(this.currentPos.x,this.targetPos.x),this.currentPos.y=p(this.currentPos.y,this.targetPos.y),this.neck.rotation.x=this.currentPos.x+.1,this.neck.rotation.y=this.currentPos.y}},mounted:function(){this.init(),this.animate()}},g=(n("5416"),n("6b0d")),b=n.n(g);const y=b()(m,[["render",u],["__scopeId","data-v-6904d2bb"]]);var P=y,w={name:"App",components:{AvatarRpm:P}};n("cf66");const O=b()(w,[["render",s]]);var j=O;Object(r["b"])(j).mount("#app")},bf13:function(t,e,n){},c500:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},cf66:function(t,e,n){"use strict";n("bf13")}});
//# sourceMappingURL=app.b3f7f5fd.js.map